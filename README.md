프로젝트 팀 농스트라다무스


## 1. 개요
### 1.1 데이터 전처리
1) 데이터 수집
2) 결측치/이상치 파악
3) 이상치 대체
4) 변수간 관계 파악
5) 파생변수 생성

### 1.2 모델링
1. 목표
2. 품목별 모델링
3. 앙상블
4. 결과

## 2. 파일구성
1. Data 폴더: Raw데이터 및 전처리 데이터 일체
2. Code 폴더: 각각 .Rmd/.ipynb
    - `01_Preprocess.Rmd`
    - `02_Modeling_MLR.Rmd`
     - `03_Modeling_LSTM.ipynb`

## 3. 코드실행 유의사항
데이터들을 'data' 폴더에 위치시켜 주시기 바랍니다.

## 4. 개발환경
### 4.1 로컬
- CPU : Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz 2.59 GHz
- RAM : 16.0GB
- GPU : No GPU Computing
### 4.2 R
- R 버전 : 4.3.1
  - readr: 2.1.4 
  - readxl: 1.4.3
  - dplyr: 1.1.2
  - data.table: 1.14.8
  - magrittr: 2.0.3
  - skimr: 2.1.5
  - ggplot2: 3.4.2
  - esquisse: 1.1.2
  - DataExplorer: 0.8.2
  - lubridate: 1.9.2
  - stringr: 1.5.0
  - naniar: 1.0.0
  - VIM: 6.2.2
  - imputeTS: 3.3
  - fastDummies: 1.7.3
  - corrplot: 0.92
  - nortest: 1.0-4


### 4.3 Python 
Google Colab Pro

# entertain_stock_2023_4



## 비금융 데이터를 활용한 엔터테인먼트 주가 예측
- 2023 명지대 SW경진대회 출품작(빅데이터 분석 부분)
- 기간: ‘23년 07월 ~ ‘23년 08월(1개월)
- 성과: 최우수상 (2등) 수상
- Tools: python
- 활용 데이터
  - entertainment 주식회사별 거래 데이터 (2016.01~2023.06)
  - 멜론음원차트 top 100 음원 순위 데이터 (2016.01~2023.06)
  - 네이버 뉴스 기사 크롤링 데이터 (2016.01~2023.06)
<br>


## 1️⃣ 개요
하이브,SM 인수문제 => 많은 뉴스 기사들 발생. 
해당 기사들을 통해 주가 예측이 가능할까? 라는 아이디어에서 출발한 비금융 데이터를 통한 주가예측 프로젝트

<br>

## 2️⃣ 주제 정의
주식 가격예측을 과거의 주식 거래데이터로만 예측하는 것이 아닌, **비금융 데이터를 활용한 엔터테인먼트 주가 예측**으로 정의하였음.
엔터테인먼트 분야 특성상 많은 뉴스기사가 작성되고,  음원차트를 통해 매일 음원 성적이 나오기 때문에 적합한 주식 분야로 여겨짐
<br>

## 3️⃣ 과정 

❶문제정의 ❷데이터 수집 및 가공 ❸데이터 분석 ❹모델 개발 ❺가격 예측 ❺결론


### 👤역할
기획,데이터 수집, 데이터 분석, 데이터 시각화, 모델개발
<br>

### 🧐 Main Issues
비금융 데이터를 뉴스기사 크롤링과 음원차트 크롤링을 통해 수집하고 가공하는 과정이 중요한 문제였음. 
특히 뉴스 크롤링한 뉴스기사를 긍정,부정,중립으로 나누는 과정에서 기존 영어 경제기사를 학습시킨 KLUE BERT-base model을 불러와서 라벨링을 할 것인지. 새롭게 모델을 만들어 라벨링을 할 것인지가 중요 쟁점으로 작용함.

### 🛠️ Resolved
크롤링한 뉴스 기사의 제목을를 토큰화하여 형태소 분석을 진행 빈도수 기준으로 내림차순 나열 후 사전 생성.
불용어 제거후 컬럼에 대해 토큰화(형태소 분석)을 재진행 하여 단어 1000개에 대해 빈도수 기준으로 정렬
긍정 166개 부정 99개로 구성된 긍∙부정 단어 리스트를 생성(단어 자체가 긍정 부정인 경우만 판별)
긍정,부정,중립으로 다시 나누고 기사별로 score를 측정해 활용하였음. 1이상이면 긍정, 0이면 중립, 0이하면 부정 으로 label column생성.

<br>

### 🎯 Result
##모델부분
lstm,gru,통계 모델 ARIMA
3가지 모델을 학습 후 비교,
MAE, RMSE, RMSLE, R2에서 모두 좋은 수치를 기록한 GRU 선택.

#분석결과
큐브엔터, 와이지엔터테인먼트
“뉴스 제목 감정”과 “음원차트 점수” 추가 사용시 모델이 개선됨
에스엠, 하이브, JYP Ent., 에프엔씨엔터는 
“뉴스 제목 감정”과 “음원차트 점수”추가 사용시 모델 개선 되지 않음

### ⭐ Learnd Lessons
시계열 데이터를 학습해 lstm,gru,arima 모델을 통해 학습해보는 경험을 하였습니다. 또한 web driver를 통해 크롤링을 하는 경험을 하였으며,
뉴스 기사 토큰화와 라벨링을 통해 감성분석을해 데이터셋을 만들어 보았습니다.
다만 아쉬운점은 시계열 데이터의 특성을 활용한 롤링변수나 sin,cos 변환을 통해 파생변수를 추가해 시계열 데이터의 특성을 살려서 더 인사이트를 도출해 내었다면 좋았을 것이라는 생각을 하였습니다.
추후에는 이러한 시계열 특성을 고려한 방법을 적용해 보고자 합니다.



